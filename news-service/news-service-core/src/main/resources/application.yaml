spring:
  application:
    name: news-service
  profiles:
    active: prod
  liquibase:
    change-log: db.changelog/changelog-master.xml
  jpa:
    generate-ddl: false
    show-sql: true
  properties:
    hibernate:
      search:
        backend:
          type: lucene
          directory.root: ./data/index
logging:
  level:
    root: INFO
    org.springframework.web: INFO
    ru.clevertec: debug
  file:
    name: ./logs/log-file.log
server:
  port: 8081

cache:
  capacity: 10
  type: LRU

---
spring:
  config:
    activate:
      on-profile: dev
  datasource:
    driver-class-name: org.postgresql.Driver
    username: postgres
    password: postgres
    url: jdbc:postgresql://localhost:5432/news_system
  feign:
    client:
      comments-service:
        name: comments-service
        url: "http://localhost:8082"

---
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://news-db:5432/news_system
    username: postgres
    password: postgres
  feign:
    client:
      comments-service:
        name: comments-service
        url: "http://comments-service:8082"

---
spring:
  config:
    activate:
      on-profile: test
  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://localhost:5432/news_system
    username: postgres
    password: postgres
  feign:
    client:
      comments-service:
        name: comments-service
        url: "http://localhost:8082"
